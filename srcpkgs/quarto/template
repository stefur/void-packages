# Template file for 'quarto'
pkgname=quarto
version=1.8.26
revision=2
archs="x86_64"
create_wrksrc=yes
short_desc="Technical publishing system built on Pandoc"
maintainer="stefur <stefan@furne.net>"
license="MIT"
homepage="https://github.com/quarto-dev/quarto-cli"
changelog="https://raw.githubusercontent.com/quarto-dev/quarto-cli/refs/tags/v${version}/news/changelog-${version%.*}.md"
distfiles="https://github.com/quarto-dev/quarto-cli/releases/download/v${version}/quarto-${version}-linux-amd64.tar.gz"
checksum="ad8caa6d3aecc3f2b6a4a8fb8296677ef2ef9410a48a3eeba7b1f9a1c91000f0"

do_install() {
	vmkdir usr/lib/quarto
	vmkdir usr/bin
	vlicense "${wrksrc}/quarto-${version}"/share/COPYRIGHT

	cp -r "${wrksrc}/quarto-${version}"/* "${DESTDIR}/usr/lib/quarto/"

	ln -s "/usr/lib/quarto/bin/quarto" "${DESTDIR}/usr/bin/quarto"
}
