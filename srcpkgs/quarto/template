# Template file for 'quarto'
pkgname=quarto
version=1.8.27
revision=1
archs="x86_64"
create_wrksrc=yes
short_desc="Technical publishing system built on Pandoc"
maintainer="stefur <stefan@furne.net>"
license="MIT"
homepage="https://github.com/quarto-dev/quarto-cli"
changelog="https://raw.githubusercontent.com/quarto-dev/quarto-cli/refs/tags/v${version}/news/changelog-${version%.*}.md"
distfiles="https://github.com/quarto-dev/quarto-cli/releases/download/v${version}/quarto-${version}-linux-amd64.tar.gz"
checksum=bdf689b5589789a1f21d89c3b83d78ed02a97914dd702e617294f2cc1ea7387d

do_install() {
	vmkdir usr/lib/quarto
	vmkdir usr/bin
	vlicense "${wrksrc}/quarto-${version}"/share/COPYRIGHT

	cp -r "${wrksrc}/quarto-${version}"/* "${DESTDIR}/usr/lib/quarto/"

	ln -s "/usr/lib/quarto/bin/quarto" "${DESTDIR}/usr/bin/quarto"
}
